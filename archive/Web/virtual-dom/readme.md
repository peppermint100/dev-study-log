## 브라우저의 Workflow

1. DOM Tree 생성 : 브라우저가 HTML을 전달 받으면 브라우저의 렌더 엔진이 이를 파싱하고 DOM 노드로 이루어진 트리를 만듭니다.

2. Render Tree 생성 : CSS 파일과 각 엘리먼트의 스타일 정보를 사용하여 DOM Tree에 따른 새로운 트리인 렌더 트리를 만듭니다. 이 과정은 동기적 작업이며 attach라는 노드의 메소드가 스타일 정보를 계산해서 객체 형태로 반환합니다.
3. Layout(reflow) : 렌더 트리가 완성되면 스크린 어느 부분에 나타나야 할지 위치가 주어집니다.
4. Painting : 렌더링된 요소들이 paint 메소드를 호출하면서 색을 입히며 스크린에 나타납니다

## Virtual DOM이란?

가상 DOM은 UI를 메모리에 저장해두고 필요할 때 실제 DOM과 동기화하는 프로그래밍의 개념입니다. 이러한 방식은 복잡한 SPA에서 정보가 변화하였을 때 전체 페이지를 다시 리로드해주어야 하는 브라우저의 연산에서의 비효율성을 개선합니다.

SPA의 적용이 빈번해지면서 동적인 웹 페이지들이 많이 생겨나고 이는 가상 DOM의 동적인 특징을 꼭 이용해야 좋은 퍼포먼스를 내게 되었고 실제 DOM과 동기화 하는 과정에서 가상 DOM은 생명주기를 갖게 됩니다.

만약 뷰에 변화가 있다면 실제 DOM에 적용되기 전에 가상 DOM에 먼저 적용을 해두고 DOM의 생명주기를 거치면서 실제 DOM에 동기화를 하는 것입니다. 이는 자체적으로 보면 레이아웃 계산과 리렌더링이 규모가 커짐을 의미하지만 딱 한번만 연산을 하기 때문에 최적화를 잘 할시에 좋은 퍼포먼스를 보여줄 수 있습니다.

하지만 언제나 가상 DOM을 이용하는 것이 빠르지만은 않습니다. 만약 일반적인 정적 웹이 최적화가 잘 되어있고 가상 DOM을 이용해야 하는 특징이 적은 웹 페이지라면 가상 DOM을 이용하는 것이 더 비효율적입니다.

[참조 원문](https://velopert.com/3236)입니다!
